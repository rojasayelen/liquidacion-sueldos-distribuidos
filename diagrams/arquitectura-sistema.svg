<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <!-- Definiciones -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <marker id="arrowhead-dashed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>

  <!-- Título -->
  <text x="600" y="30" font-size="20" font-weight="bold" text-anchor="middle" font-family="Arial">
    Sistema Distribuido de Liquidación de Sueldos - Arquitectura Cliente-Servidor
  </text>

  <!-- CAPA 1: CLIENTES -->
  <rect x="50" y="60" width="1100" height="100" fill="#e1f5ff" stroke="#333" stroke-width="2" rx="5"/>
  <text x="70" y="85" font-size="14" font-weight="bold" font-family="Arial">Capa de Clientes</text>
  
  <rect x="150" y="100" width="180" height="50" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="240" y="122" font-size="12" text-anchor="middle" font-family="Arial">Contador 1</text>
  <text x="240" y="138" font-size="10" text-anchor="middle" font-family="Arial" fill="#666">Web Browser</text>

  <rect x="450" y="100" width="180" height="50" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="540" y="122" font-size="12" text-anchor="middle" font-family="Arial">Contador 2</text>
  <text x="540" y="138" font-size="10" text-anchor="middle" font-family="Arial" fill="#666">Web Browser</text>

  <rect x="750" y="100" width="180" height="50" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="840" y="122" font-size="12" text-anchor="middle" font-family="Arial">Contador N</text>
  <text x="840" y="138" font-size="10" text-anchor="middle" font-family="Arial" fill="#666">Web Browser</text>

  <!-- CAPA 2: LOAD BALANCER -->
  <rect x="50" y="190" width="1100" height="80" fill="#fff4e1" stroke="#333" stroke-width="2" rx="5"/>
  <text x="70" y="215" font-size="14" font-weight="bold" font-family="Arial">Balanceo de Carga</text>
  
  <rect x="450" y="220" width="250" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="3"/>
  <text x="575" y="238" font-size="12" text-anchor="middle" font-family="Arial" font-weight="bold">HAProxy Load Balancer</text>
  <text x="575" y="253" font-size="10" text-anchor="middle" font-family="Arial" fill="#666">Puerto 8080</text>

  <!-- CAPA 3: SERVIDORES SOCKET -->
  <rect x="50" y="300" width="1100" height="100" fill="#ffe1f5" stroke="#333" stroke-width="2" rx="5"/>
  <text x="70" y="325" font-size="14" font-weight="bold" font-family="Arial">Servidores Socket</text>
  
  <rect x="120" y="340" width="200" height="50" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="220" y="360" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Servidor Socket 1</text>
  <text x="220" y="374" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Puerto 9001 | Pool: 10 hilos</text>

  <rect x="450" y="340" width="200" height="50" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="550" y="360" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Servidor Socket 2</text>
  <text x="550" y="374" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Puerto 9002 | Pool: 10 hilos</text>

  <rect x="780" y="340" width="200" height="50" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="880" y="360" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Servidor Socket 3</text>
  <text x="880" y="374" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Puerto 9003 | Pool: 10 hilos</text>

  <!-- CAPA 4: RABBITMQ -->
  <rect x="50" y="430" width="1100" height="120" fill="#f5e1ff" stroke="#333" stroke-width="2" rx="5"/>
  <text x="70" y="455" font-size="14" font-weight="bold" font-family="Arial">Sistema de Mensajería - RabbitMQ</text>
  
  <rect x="120" y="475" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="230" y="495" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Cola: liquidacion</text>
  <text x="230" y="510" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Cálculo de sueldos</text>
  <text x="230" y="523" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Validación convenios</text>

  <rect x="380" y="475" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="490" y="495" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Cola: reportes</text>
  <text x="490" y="510" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">PDF recibos</text>
  <text x="490" y="523" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Reportes sindicales</text>

  <rect x="640" y="475" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="750" y="495" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Cola: archivos_bancarios</text>
  <text x="750" y="510" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">TXT para bancos</text>
  <text x="750" y="523" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Exportaciones</text>

  <rect x="900" y="475" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="1010" y="495" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Cola: cargas_sociales</text>
  <text x="1010" y="510" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">AFIP/ARCA</text>
  <text x="1010" y="523" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Obras sociales</text>

  <!-- CAPA 5: WORKERS -->
  <rect x="50" y="580" width="1100" height="120" fill="#e1ffe1" stroke="#333" stroke-width="2" rx="5"/>
  <text x="70" y="605" font-size="14" font-weight="bold" font-family="Arial">Workers Especializados</text>
  
  <rect x="120" y="625" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="230" y="645" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Worker Liquidación</text>
  <text x="230" y="660" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Pool: 5 hilos</text>
  <text x="230" y="673" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Procesa liquidaciones</text>

  <rect x="380" y="625" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="490" y="645" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Worker Reportes</text>
  <text x="490" y="660" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Pool: 5 hilos</text>
  <text x="490" y="673" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Genera PDFs y reportes</text>

  <rect x="640" y="625" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="750" y="645" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Worker Archivos</text>
  <text x="750" y="660" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Pool: 3 hilos</text>
  <text x="750" y="673" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Genera archivos bancarios</text>

  <rect x="900" y="625" width="220" height="60" fill="#fff" stroke="#333" stroke-width="1.5" rx="3"/>
  <text x="1010" y="645" font-size="11" text-anchor="middle" font-family="Arial" font-weight="bold">Worker Cargas</text>
  <text x="1010" y="660" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Pool: 3 hilos</text>
  <text x="1010" y="673" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Calcula cargas sociales</text>

  <!-- CAPA 6: ALMACENAMIENTO -->
  <rect x="50" y="730" width="1100" height="120" fill="#ffe1e1" stroke="#333" stroke-width="2" rx="5"/>
  <text x="70" y="755" font-size="14" font-weight="bold" font-family="Arial">Capa de Almacenamiento</text>
  
  <rect x="200" y="775" width="350" height="60" fill="#fff" stroke="#333" stroke-width="2" rx="3"/>
  <text x="375" y="795" font-size="12" text-anchor="middle" font-family="Arial" font-weight="bold">PostgreSQL</text>
  <text x="375" y="810" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">empresas | empleados | conceptos</text>
  <text x="375" y="823" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">convenios | liquidaciones | usuarios</text>

  <rect x="650" y="775" width="350" height="60" fill="#fff" stroke="#333" stroke-width="2" rx="3"/>
  <text x="825" y="795" font-size="12" text-anchor="middle" font-family="Arial" font-weight="bold">S3 / MinIO</text>
  <text x="825" y="810" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">PDFs de recibos | Archivos TXT bancarios</text>
  <text x="825" y="823" font-size="9" text-anchor="middle" font-family="Arial" fill="#666">Reportes sindicales | Declaraciones juradas</text>

  <!-- FLECHAS: Clientes -> Load Balancer -->
  <line x1="240" y1="150" x2="515" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="540" y1="150" x2="565" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="840" y1="150" x2="635" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- FLECHAS: Load Balancer -> Servidores Socket -->
  <line x1="515" y1="260" x2="280" y2="340" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="575" y1="260" x2="550" y2="340" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="635" y1="260" x2="820" y2="340" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- FLECHAS: Servidores Socket -> RabbitMQ -->
  <line x1="220" y1="390" x2="220" y2="430" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="550" y1="390" x2="550" y2="430" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="880" y1="390" x2="880" y2="430" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- FLECHAS: Colas -> Workers -->
  <line x1="230" y1="535" x2="230" y2="625" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="490" y1="535" x2="490" y2="625" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="535" x2="750" y2="625" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1010" y1="535" x2="1010" y2="625" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- FLECHAS: Workers -> PostgreSQL -->
  <line x1="230" y1="685" x2="300" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="490" y1="685" x2="400" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="685" x2="450" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1010" y1="685" x2="500" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- FLECHAS: Workers Reportes y Archivos -> S3 -->
  <line x1="490" y1="685" x2="750" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="685" x2="800" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1010" y1="685" x2="900" y2="775" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- FLECHAS PUNTEADAS: Response desde RabbitMQ a Servidores -->
  <line x1="220" y1="430" x2="220" y2="390" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5" marker-end="url(#arrowhead-dashed)"/>
  <line x1="550" y1="430" x2="550" y2="390" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5" marker-end="url(#arrowhead-dashed)"/>
  <line x1="880" y1="430" x2="880" y2="390" stroke="#666" stroke-width="1.5" stroke-dasharray="5,5" marker-end="url(#arrowhead-dashed)"/>

  <!-- Leyenda -->
  <text x="50" y="880" font-size="10" font-family="Arial" fill="#666">Línea sólida: Flujo de tareas | Línea punteada: Respuesta de resultados</text>
</svg>
